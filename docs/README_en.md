# WeChat AI Daily

<div align="center">

[ä¸­æ–‡](../README.md) | [English](README_en.md)

[![Python](https://img.shields.io/badge/Python-3.13+-blue.svg)](https://www.python.org/)
[![uv](https://img.shields.io/badge/uv-Package%20Manager-blueviolet.svg)](https://github.com/astral-sh/uv)
[![DashScope](https://img.shields.io/badge/DashScope-VLM%20%26%20LLM-orange.svg)](https://dashscope.aliyun.com/)
[![Bilibili](https://img.shields.io/badge/Bilibili-Doubleç«¥å‘å‘-ff69b4.svg)](https://space.bilibili.com/323109608)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](../LICENSE)

**Author: Doubleç«¥å‘å‘** Â· [Bilibili](https://space.bilibili.com/323109608)

</div>

## ğŸ“– Introduction

An automated WeChat Official Account article collection tool that uses GUI automation and VLM (Vision Language Model) image recognition to automatically collect daily articles from specified official accounts, and generates daily AI content reports using LLM. The generated HTML file can be opened and copied with one click to directly form the content of your own official account article.

Due to strict anti-crawler restrictions on WeChat Official Account article lists, traditional web scraping solutions are difficult to implement. This project adopts a **GUI Automation + VLM Image Recognition** hybrid approach, simulating real user operations to bypass restrictions and obtain article information.

This project was developed with the assistance of AI Coding tools. Special thanks to [Claude Code](https://claude.ai/code), [Cursor](https://cursor.com/), and other AI Coding tools.

## ğŸ¯ Core Features

- **GUI Automated Collection**: Simulates real user operations to automatically open WeChat, search for official accounts, and collect article links
- **VLM Intelligent Recognition**: Uses vision language models to identify date positions on pages, precisely locating today's articles
- **LLM Intelligent Analysis**: Automatically extracts article content and uses large models to generate content overviews and recommendation scores
- **Daily Report Generation**: Aggregates all articles and generates rich-text daily reports ready for publishing
- **One-Click Publishing**: Open the generated HTML file, copy and paste to form your official account content
- **Cross-Platform Support**: Supports both Windows and macOS systems
- **Real-Time Monitoring Interface**: Optional frontend monitoring system for real-time viewing of collection progress and screenshots

## ğŸ“‹ Requirements

- Python >= 3.13
- WeChat Desktop Client (Windows or macOS)
- Alibaba Cloud DashScope API Key (for VLM image recognition and LLM summary generation)

## ğŸš€ Quick Start

### 1. Clone the Project

```bash
git clone https://github.com/TongTong313/wechat-ai-daily.git
cd wechat-ai-daily
```

### 2. Install Dependencies

```bash
# Install dependencies using uv (recommended)
uv sync
```

### 3. Configure API Key

**macOS/Linux:**
```bash
export DASHSCOPE_API_KEY="your_api_key_here"
```

**Windows PowerShell:**
```powershell
$env:DASHSCOPE_API_KEY="your_api_key_here"
```

> API Key application: https://bailian.console.aliyun.com/

### 4. Configure Official Accounts

Edit `configs/config.yaml` to add the official account article URLs you want to collect:

```yaml
article_urls:
  - https://mp.weixin.qq.com/s/xxxxx  # Any article from Official Account A
  - https://mp.weixin.qq.com/s/yyyyy  # Any article from Official Account B
```

### 5. Run the Program

```bash
# Make sure WeChat is logged in and in the foreground
uv run python main.py
```

## ğŸ“ Usage Guide

### Workflow

1. **Article Collection**: The program automatically opens WeChat, visits configured official account homepages, and collects all article links published today
2. **Content Extraction**: Visits each article page to extract title, author, body text, images, and other metadata
3. **Content Analysis**: Uses LLM to generate content overview, recommendation score, and selection rationale for each article
4. **Report Output**: Aggregates all articles and generates a rich-text daily report HTML file
5. **One-Click Publishing**: Open the generated HTML file, copy the content and paste it into the official account editor
6. **Report Format**:
   - **Content Overview**: 100-200 word summary of core article content
   - **Selection Rationale**: Up to 100 words explaining recommendation reason and value
   - **Scoring Mechanism**: Only articles with 90+ scores are recommended
   - **Attribution**: Footer automatically adds "Generated by Doubleç«¥å‘å‘'s wechat-ai-daily"

### Frontend Monitoring (Optional)

The project provides an optional frontend monitoring system for real-time viewing of collection progress:

```bash
# Start test with frontend monitoring
uv run python tests/test_with_frontend.py
```

Visit `http://localhost:8765` in your browser to view real-time logs, screenshots, and collection progress.

### Running Tests

```bash
# Run all tests
uv run pytest tests/

# Run a single test file
uv run pytest tests/test_tt.py -v
```

## ğŸ“ Project Structure

```
wechat-ai-daily/
â”œâ”€â”€ src/wechat_ai_daily/
â”‚   â”œâ”€â”€ utils/                    # Utility modules
â”‚   â”‚   â”œâ”€â”€ wechat.py            # WeChat process management
â”‚   â”‚   â”œâ”€â”€ autogui.py           # GUI automation operations
â”‚   â”‚   â”œâ”€â”€ vlm.py               # VLM image recognition
â”‚   â”‚   â”œâ”€â”€ llm.py               # LLM summary generation
â”‚   â”‚   â””â”€â”€ types.py             # Data type definitions
â”‚   â””â”€â”€ workflows/                # Workflow modules
â”‚       â”œâ”€â”€ wechat_autogui.py    # Official account article collector
â”‚       â””â”€â”€ daily_generate.py    # Daily report generator
â”œâ”€â”€ frontend/                     # Frontend monitoring module (optional)
â”œâ”€â”€ configs/                      # Configuration files
â”œâ”€â”€ templates/                    # Template files
â”œâ”€â”€ tests/                        # Test files
â””â”€â”€ main.py                       # Main program entry
```

## ğŸ› ï¸ Tech Stack

- **GUI Automation**: pyautogui, pynput
- **Image Processing**: Pillow, OpenCV
- **VLM/LLM**: Alibaba Cloud DashScope (Qwen)
- **HTML Parsing**: BeautifulSoup4
- **Data Validation**: Pydantic
- **Frontend Monitoring**: FastAPI, WebSocket

## âš ï¸ Notes

- Make sure the WeChat desktop client is logged in before running
- Do not operate the mouse and keyboard during the collection process
- Different systems require corresponding template images (`templates/` directory)
- High-resolution display scaling (e.g., Retina) is automatically handled

## ğŸ“ Support

If you encounter any issues or have suggestions, please submit feedback via [GitHub Issues](https://github.com/TongTong313/wechat-ai-daily/issues).

## ğŸ“„ License

MIT License - See [LICENSE](../LICENSE) file for details

## â­ Star History

[![Star History Chart](https://api.star-history.com/svg?repos=TongTong313/wechat-ai-daily&type=Date)](https://star-history.com/#TongTong313/wechat-ai-daily&Date)
